# Bongo Cultivation (桌面修仙宠物)

Bongo Cultivation 是一款基于 PyQt6 开发的桌面宠物挂机游戏，结合了**修仙题材**与**生产力工具**属性。
它会在你的桌面上生成一个可爱的修仙小人，不仅能陪伴你工作/学习，还会根据你的键盘鼠标操作（APM）自动修炼、突破境界、寻宝炼丹。

让你的每一次敲击代码，都成为飞升得道的基石！

---

## ✨ 核心特色 (Features)

### 1. 挂机修仙 (Idle Cultivation)
*   **APM 驱动修炼**: 
    *   **闭关 (Idle)**: 摸鱼时自动积累少量修为。
    *   **历练 (Work)**: 键盘敲击（写代码/文档）时，进入“历练”状态，收益提升且掉落材料。
    *   **悟道 (Read)**: 频繁使用鼠标时，进入“悟道”状态，偶尔触发顿悟。
    *   **斗法 (Combat)**: 极高频率操作时，进入“斗法”模式，高收益伴随心魔风险。
*   **境界体系**: 从【炼气期】到【渡劫期】9大境界，指数级升级曲线，体验真实的修仙漫漫长路。
*   **渡劫飞升**: 满经验后需手动渡劫，配合华丽的雷劫动画，成功则属性大涨，失败则身死道消（掉修为）。

### 2. 丰富系统 (Rich Systems)
*   **物品与炼丹**: 
    *   内置 100+ 种灵草、矿石、兽丹（Tier 0 - Tier 8）。
    *   **炼丹房**: 收集材料，按照丹方炼制提升修为、恢复状态或辅助突破的丹药。
    *   **坊市**: 定期刷新的随机商店，可以捡漏稀有材料。
*   **奇遇事件**: 
    *   基于状态触发的随机事件（如“偶遇前辈高人”、“发现上古遗迹”）。
    *   包含数十种剧情与选择，影响修为、心魔或获得特殊道具。
*   **成就与头衔**:
    *   记录你的总键鼠操作数、在线时长等，解锁“天道酬勤”、“键仙”等成就。
    *   佩戴专属**头衔**，获得永久属性加成（如经验获取+10%）。

### 3. 生产力统计 (Productivity Stats)
*   **数据可视化**: 内置 `StatsWindow`，图表展示今日、本周、本月的键盘/鼠标活跃度趋势。
*   **工作激励**: 看着修为随工作量上涨，让枯燥的工作多一份动力。

### 4. 桌面陪伴 (Desktop Companion)
*   **无缝集成**: 
    *   窗口置顶但**不抢占焦点**（macOS 优化），不影响你正常操作其他软件。
    *   背景透明，小人可由鼠标随意拖拽。
*   **视觉特效**:
    *   包含呼吸、移动、施法等多种平滑动画。
    *   粒子特效：渡劫雷光、炼丹火焰、突破金光。

---

## 🛠 技术栈 (Tech Stack)
*   **语言**: Python 3.10+
*   **GUI 框架**: PyQt6
*   **数据存储**: SQLite (自动初始化与数据迁移)
*   **图表绘制**: Matplotlib
*   **输入监听**: Pynput
*   **打包工具**: PyInstaller (支持 macOS/Windows)

---

## 🚀 快速开始 (Quick Start)

### 1. 运行预编译版本 (macOS)
在 `dist/` 目录下找到 `BongoCultivation.app`，直接双击运行即可。

### 2. 源码运行 (Development)
如果你想自己修改或调试：

```bash
# 1. 克隆仓库
git clone https://github.com/YourRepo/bongo-cultivation.git
cd bongo-cultivation

# 2. 安装依赖
pip install -r requirements.txt
# (主要依赖: PyQt6, pynput, matplotlib, pillow)

# 3. 运行
python main.py
```

---

## 🎮 操作指南 (Controls)

*   **左键拖拽**: 移动小人位置。
*   **左键点击**: 随机播放修仙对话 / 互动。
*   **右键点击**: 打开功能菜单。
    *   **状态**: 查看详细属性（心魔、体魄、好感度）。
    *   **储物袋**: 查看装备、使用丹药。
    *   **炼丹房**: 合成道具。
    *   **统计**: 查看工作效率图表。
    *   **设置**: 退出程序等。
*   **托盘图标**: 点击顶栏/任务栏的小图标也可进行控制。

---

## 📂 项目结构 (Project Structure)

```
bongo/
├── main.py              # 程序入口
├── src/
│   ├── cultivator.py    # [Model] 核心数据逻辑 (User Data)
│   ├── pet_window.py    # [View] 主窗口 UI 与动画渲染
│   ├── services/        # 业务服务 (EventEngine, AchievementManager)
│   ├── ui/              # 子窗口 (Inventory, Alchemy, Stats)
│   ├── data/            # 静态资源 (JSON Configs, Assets)
│   └── database.py      # SQLite 管理
├── assets/              # 图片与音频资源
└── docs/                # 开发文档
```

---

## 📝 开发计划与日志 (Changelog)
详细的开发记录请参考 `docs/` 目录下的计划文档。
- **v1.0**: 核心玩法上线，包含炼丹、事件与成就系统。
- **v1.1**: 经济系统平衡，修复物品使用逻辑。

---

## 🤝 贡献 (Contributing)
欢迎提交 Issue 或 PR！
如果你有有趣的修仙事件文案或新的丹药点子，请直接在 Issue 中留言。

---

# Plan 3: 生产力与统计扩展 (Productivity & Statistics Expansion)

本计划旨在将桌宠从单纯的娱乐应用升级为具有实用价值的生产力辅助工具。通过记录用户的输入行为并提供可视化反馈，结合番茄钟功能，实现“修仙”与“工位搬砖”的完美结合。

## Phase 1: 行为数据采集 (User Activity Tracking)
目标：在后台通过安全、隐私友好的方式统计用户的输入活跃度。
- [ ] **输入监听模块 (Input Listener)**
    - [ ] 引入 `pynput` 或类似库，后台监听全局输入事件。
    - [ ] **键盘统计**: 统计敲击次数 (Keystrokes)，计算 KPM (Keystrokes Per Minute)。*注意：不记录具体键位内容，仅记录数量，确保隐私。*
    - [ ] **鼠标统计**: 统计点击次数 (Clicks)、移动距离 (Distance)。
    - [ ] **活跃度判定**: 根据输入频率判断用户是“忙碌”、“摸鱼”还是“离开”。
- [ ] **数据存储 (Local Data Store)**
    - [ ] 设计按天/小时聚合的数据结构 (JSON 或 SQLite)。
    - [ ] 记录每小时的 APM (Actions Per Minute) 趋势。

## Phase 2: 可视化分析 (Visual Analytics)
目标：让用户直观看到自己一天的“修炼成果”（工作强度）。
- [ ] **数据面板 (Stats Dashboard)**
    - [ ] 实现一个新的弹窗或独立页面，展示统计图表。
    - [ ] **今日概览**: 总点击、总键入、高强度工作时长。
    - [ ] **趋势图**: 24小时活跃度曲线 (Activity Chart)。
    - [ ] **热力分布**: (可选) 统计键盘/屏幕热区（需谨慎评估隐私风险，可仅做屏幕点击位置热力图）。
- [ ] **游戏内联动 (In-game Rewards)**
    - [ ] **“勤勉”奖励**: 每天键盘鼠标操作达到一定阈值，奖励游戏内资源（如灵石、修为）。
    - [ ] **“天道酬勤”**: 连续高强度工作一段时间，触发特殊对话或BUFF。


## Phase 4: 技术实现路径 (Tech Stack)
- **监听**: Python `pynput` 库 (用于跨平台监听)。
- **图表**: `matplotlib` 生成静态图后展示，或嵌入 `chart.js` / `pyqtgraph` (如果UI支持)。
- **存储**: 本地 SQLite 数据库，确保数据不上传。

---
**隐私声明**: 所有统计数据仅用于本地游戏化展示和自我量化，绝不上传云端，不记录键盘输入的字符内容。

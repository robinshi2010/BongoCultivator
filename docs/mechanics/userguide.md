
状态判定逻辑：

IDLE (闭关/打坐): KB < 30 APM 且 Mouse < 30 APM
WORK (历练): KB >= 30 APM 且 Mouse < 30 APM (键盘活动为主)
READ (悟道): KB < 30 APM 且 Mouse >= 30 APM (鼠标活动为主，如浏览网页)
COMBAT (斗法): KB >= 30 APM 且 Mouse >= 30 APM (高强度键鼠，如打游戏、写代码)
各状态详细效果：

IDLE (闭关/打坐)
修炼速度: 基础 +1 exp/tick
效果: 也就是基础挂机，什么都不做时的状态。即使有心魔也不会在这里增加额外心魔。
WORK (历练 - 键盘活跃)
修炼速度: 基础 +5 exp/tick
特殊效果: 发现新东西（掉落物品）
当处于此状态时，有概率（基础 0.5% + 气运加成 + 天赋加成）触发物品掉落。
掉落物品的阶级主要是当前境界（80%），小概率低阶（15%）或高阶（5%）。
READ (悟道 - 鼠标活跃)
修炼速度: 基础 +8 exp/tick
特殊效果: 顿悟（Epiphany）与消解心魔
有 2% 的概率触发“顿悟”。
顿悟效果:
额外获得大量修为 (+20 exp)，总共 +28。
消解心魔: 心魔 (Mind) -5。这是主动减少心魔的主要途径之一。
COMBAT (斗法 - 键鼠双高)
修炼速度: 基础 +15 exp/tick (最快)
特殊效果: 副作用（杀气过重）
有 1% 的概率增加 1 点心魔。
这是修炼最快的模式，但也是唯一可能增加心魔的非事件类模式。
其他机制：

气运 (Luck/Affection):
每点气运增加 1% 的修炼效率。
每点气运增加 0.5% 的掉落概率（在 WORK 模式下）。
心魔 (Mind):
心魔 > 50 时，修炼效率开始衰减（每点 -2%）。
心魔达到 100 时，无法获取经验。
消除途径：READ 模式下的顿悟、吃清心丹、特定随机事件。
修炼加速:
速度排序：COMBAT (+15) > READ (+8) > WORK (+5) > IDLE (+1)
也就是打游戏/高强度工作时修炼最快，看网页次之，打字聊天/写文档次之，发呆最慢。